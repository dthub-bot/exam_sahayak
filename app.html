<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarkar Sahayak - Fixed</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        /* --- CSS STYLES --- */
        :root { --primary: #1976D2; --bg: #F5F7FA; --text: #333; --green: #43A047; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: #e0e0e0; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
        
        /* Mobile Container */
        #app-frame {
            width: 100%; max-width: 414px; background: #fff; height: 100%; position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1); display: flex; flex-direction: column; overflow: hidden;
        }

        /* Screens */
        .view { display: none; height: 100%; overflow-y: auto; flex-direction: column; background: var(--bg); position: absolute; top: 0; left: 0; width: 100%; z-index: 10; }
        .view.active { display: flex; z-index: 20; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Controls */
        .btn { width: 100%; padding: 14px; border-radius: 8px; border: none; font-weight: 600; font-size: 16px; cursor: pointer; margin-top: 15px; text-align: center; transition: background 0.2s; }
        .btn-primary { background: var(--primary); color: #fff; }
        .btn-primary:active { background: #1565C0; }
        .btn-outline { background: #fff; border: 1px solid #ddd; color: var(--text); }
        .input-field { width: 100%; padding: 14px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 15px; font-size: 16px; }

        /* Headers */
        .header { background: #fff; padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #eee; gap: 10px; flex-shrink: 0; }
        .header-title { font-weight: 700; font-size: 18px; color: #333; }
        .back-btn { font-size: 24px; color: #333; cursor: pointer; }

        /* Profile Chips */
        .chip-group { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .chip { 
            padding: 10px 15px; border: 1px solid #ddd; border-radius: 20px; font-size: 14px; 
            color: #666; cursor: pointer; background: #fff; transition: 0.2s; flex: 1; text-align: center; white-space: nowrap;
        }
        .chip.selected { background: #E3F2FD; border-color: var(--primary); color: var(--primary); font-weight: 600; }
        
        .dropdown { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; margin-bottom: 10px; font-size: 14px; }

        /* Dashboard */
        .grid-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px; }
        .menu-item { 
            background: #fff; padding: 20px; border-radius: 12px; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; gap: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer;
        }
        .menu-item:active { background-color: #f5f5f5; }
        
        /* List Cards */
        .scheme-card { background: #fff; border-radius: 10px; padding: 15px; margin: 0 15px 15px 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); position: relative; cursor: pointer; border-left: 5px solid transparent; }
        .scheme-card:hover { border-left-color: var(--primary); }
        .scheme-badge { position: absolute; top: 15px; right: 15px; background: #43A047; color: white; font-size: 10px; padding: 4px 8px; border-radius: 4px; }
        .match-tag { background: #E8F5E9; color: #2E7D32; font-size: 11px; padding: 4px 8px; border-radius: 4px; display: inline-block; margin-top: 8px; }

        /* Detail View */
        .detail-tabs { display: flex; background: #fff; border-bottom: 1px solid #eee; flex-shrink: 0; }
        .tab { flex: 1; text-align: center; padding: 15px 0; cursor: pointer; color: #666; }
        .tab.active { color: var(--primary); border-bottom: 3px solid var(--primary); font-weight: 600; }
        .detail-body { padding: 20px; display: none; overflow-y: auto; padding-bottom: 80px; }
        .detail-body.active { display: block; }
        .info-row { display: flex; margin-bottom: 12px; gap: 10px; font-size: 14px; }
        
        /* Bottom Nav */
        .bottom-nav { 
            margin-top: auto; height: 60px; background: #fff; border-top: 1px solid #eee; 
            display: flex; justify-content: space-around; align-items: center; flex-shrink: 0; z-index: 50;
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #999; font-size: 10px; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 24px; margin-bottom: 2px; }

        /* Progress Bar */
        .progress-track { height: 6px; background: #eee; margin: 10px 20px; border-radius: 3px; }
        .progress-fill { height: 100%; background: var(--primary); width: 20%; border-radius: 3px; transition: width 0.3s; }
    </style>
</head>
<body>

<div id="app-frame">

    <div id="view-login" class="view active" style="background: #fff; justify-content:center; padding: 30px;">
        <div style="text-align: center; margin-bottom: 40px;">
            <i class="material-icons-round" style="font-size: 48px; color: var(--primary);">menu_book</i>
            <h1 style="color: var(--primary); font-size: 24px; margin-top: 10px;">Sarkar Sahayak</h1>
            <p style="color: #666; margin-top: 5px;">Login or create an account</p>
        </div>
        
        <input type="tel" class="input-field" placeholder="Mobile Number (10 digits)" value="9876543210">
        <input type="number" class="input-field" placeholder="OTP" value="1234">
        
        <button type="button" class="btn btn-primary" onclick="handleLogin()">GET OTP</button>
        
        <div style="text-align: center; margin-top: 20px; font-size: 14px; color: #999;">OR</div>
        <button type="button" class="btn btn-outline" onclick="handleLogin()">
            <i class="material-icons-round" style="font-size:16px; vertical-align:middle; margin-right:5px;">verified_user</i> 
            Login with DigiLocker
        </button>
    </div>

    <div id="view-profile" class="view">
        <div class="header">
            <i class="material-icons-round back-btn" onclick="goTo('view-login')">arrow_back</i>
            <div class="header-title">Complete Profile</div>
        </div>
        
        <div class="progress-track"><div class="progress-fill" id="prog-bar"></div></div>
        
        <div style="padding: 20px; padding-bottom: 80px;">
            <strong style="display:block; margin-bottom:10px;">Education</strong>
            <div class="chip-group" id="grp-edu">
                <div class="chip" onclick="toggleChip(this, 'grp-edu')">School</div>
                <div class="chip selected" onclick="toggleChip(this, 'grp-edu')">Undergraduate</div>
                <div class="chip" onclick="toggleChip(this, 'grp-edu')">Postgraduate</div>
            </div>

            <strong style="display:block; margin-bottom:10px;">Gender</strong>
            <div class="chip-group" id="grp-gen">
                <div class="chip selected" onclick="toggleChip(this, 'grp-gen')">Male</div>
                <div class="chip" onclick="toggleChip(this, 'grp-gen')">Female</div>
                <div class="chip" onclick="toggleChip(this, 'grp-gen')">Other</div>
            </div>

            <strong style="display:block; margin-bottom:10px;">Category</strong>
            <div class="chip-group" id="grp-cat">
                <div class="chip" onclick="toggleChip(this, 'grp-cat')">General</div>
                <div class="chip selected" onclick="toggleChip(this, 'grp-cat')">OBC</div>
                <div class="chip" onclick="toggleChip(this, 'grp-cat')">SC/ST</div>
            </div>

            <strong style="display:block; margin-bottom:10px;">Location</strong>
            <select class="dropdown" id="state-select" onchange="updateCities()">
                <option value="">Select State</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Delhi">Delhi</option>
                <option value="Karnataka">Karnataka</option>
                <option value="Tamil Nadu">Tamil Nadu</option>
                <option value="UP">Uttar Pradesh</option>
            </select>
            <select class="dropdown" id="city-select">
                <option>Select City</option>
            </select>

            <button type="button" class="btn btn-primary" onclick="goTo('view-dashboard')">Find Schemes</button>
        </div>
    </div>

    <div id="view-dashboard" class="view">
        <div style="padding: 20px; background: #fff; margin-bottom: 10px;">
            <h2 style="font-size: 22px;">Hello, Akshit</h2>
            <p style="color: #666;">We found relevant exams for you.</p>
        </div>

        <div class="grid-menu">
            <div class="menu-item" onclick="showList('Education')">
                <i class="material-icons-round" style="font-size: 32px; color: #1976D2;">school</i>
                <span>Education</span>
            </div>
            <div class="menu-item" onclick="showList('Skill')">
                <i class="material-icons-round" style="font-size: 32px; color: #607D8B;">work</i>
                <span>Skill/Jobs</span>
            </div>
            <div class="menu-item" onclick="showList('Medical')">
                <i class="material-icons-round" style="font-size: 32px; color: #E53935;">local_hospital</i>
                <span>Medical</span>
            </div>
            <div class="menu-item" onclick="showList('Housing')">
                <i class="material-icons-round" style="font-size: 32px; color: #43A047;">home</i>
                <span>Housing</span>
            </div>
        </div>

        <div class="bottom-nav">
            <div class="nav-item active"><i class="material-icons-round">home</i>Home</div>
            <div class="nav-item" onclick="showList('All')"><i class="material-icons-round">list</i>Apps</div>
            <div class="nav-item" onclick="goTo('view-profile')"><i class="material-icons-round">person</i>Profile</div>
        </div>
    </div>

    <div id="view-list" class="view">
        <div class="header">
            <i class="material-icons-round back-btn" onclick="goTo('view-dashboard')">arrow_back</i>
            <div class="header-title" id="list-title">Schemes</div>
        </div>
        
        <div style="padding: 15px; flex-shrink: 0;">
            <input type="text" id="searchInput" class="input-field" placeholder="Search exams..." style="margin-bottom: 0;" onkeyup="filterList()">
        </div>

        <div id="list-container" style="padding-bottom: 20px; overflow-y: auto;">
            </div>

        <div class="bottom-nav">
            <div class="nav-item" onclick="goTo('view-dashboard')"><i class="material-icons-round">home</i>Home</div>
            <div class="nav-item active"><i class="material-icons-round">list</i>Apps</div>
            <div class="nav-item" onclick="goTo('view-profile')"><i class="material-icons-round">person</i>Profile</div>
        </div>
    </div>

    <div id="view-detail" class="view">
        <div class="header">
            <i class="material-icons-round back-btn" onclick="goTo('view-list')">arrow_back</i>
            <div class="header-title" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" id="d-title">Title</div>
        </div>

        <div class="detail-tabs">
            <div class="tab active" onclick="openTab('tab-info', this)">Info</div>
            <div class="tab" onclick="openTab('tab-elig', this)">Eligibility</div>
        </div>

        <div id="tab-info" class="detail-body active">
            <h3 style="margin-bottom: 10px; font-size:16px;">About</h3>
            <p id="d-desc" style="color: #666; line-height: 1.6; font-size: 14px; margin-bottom: 20px;">Description...</p>
            
            <div style="background: #fff; padding: 15px; border-radius: 8px; border: 1px solid #eee;">
                <div class="info-row"><strong>Fee:</strong> <span id="d-fee"></span></div>
                <div class="info-row"><strong>Body:</strong> <span id="d-body"></span></div>
                <div class="info-row"><strong>Level:</strong> <span id="d-level"></span></div>
            </div>

            <button class="btn btn-primary" id="btn-apply">Apply Now</button>
        </div>

        <div id="tab-elig" class="detail-body">
            <div style="background: #fff; padding: 15px; border-radius: 8px; border: 1px solid #eee;">
                <div class="info-row"><i class="material-icons-round" style="color:green; font-size:18px;">check_circle</i> <span id="d-edu"></span></div>
                <div class="info-row"><i class="material-icons-round" style="color:green; font-size:18px;">check_circle</i> <span id="d-marks"></span></div>
                <div class="info-row"><i class="material-icons-round" style="color:green; font-size:18px;">check_circle</i> <span id="d-age"></span></div>
            </div>
        </div>
    </div>

</div>

<script>
    // --- 1. DATA FROM UPLOADED CSVs ---
    // Mapped manually from your "Eduction Dataset.xlsx - Post UG exams.csv" and "UG exams.csv"
    const examsData = [
        // Post UG
        { id: 1, name: "CAT", cat: "Skill", fee: "₹2400", body: "IIMs", edu: "Bachelor’s Degree", marks: "50%", age: "None", link: "https://iimcat.ac.in" },
        { id: 2, name: "UPSC CSE", cat: "Skill", fee: "₹100", body: "UPSC", edu: "Bachelor’s Degree", marks: "Pass", age: "21-32", link: "https://upsconline.nic.in/" },
        { id: 3, name: "SBI PO", cat: "Skill", fee: "₹750", body: "SBI", edu: "Bachelor’s Degree", marks: "Pass", age: "21-30", link: "https://sbi.co.in/web/careers" },
        { id: 4, name: "SSC CGL", cat: "Skill", fee: "₹100", body: "SSC", edu: "Bachelor’s Degree", marks: "Pass", age: "18-32", link: "https://ssc.nic.in" },
        { id: 9, name: "RBI Grade B", cat: "Skill", fee: "₹850", body: "RBI", edu: "Bachelor’s (60%)", marks: "60%", age: "21-30", link: "https://rbi.org.in" },
        
        // UG
        { id: 5, name: "JEE Main", cat: "Education", fee: "₹1000", body: "NTA", edu: "12th (PCM)", marks: "75%", age: "NIL", link: "https://jeemain.nta.nic.in" },
        { id: 6, name: "NEET UG", cat: "Medical", fee: "₹1700", body: "NTA", edu: "12th (PCB)", marks: "50%", age: "17-25", link: "https://neet.nta.nic.in" },
        { id: 7, name: "CUET UG", cat: "Education", fee: "₹1000", body: "NTA", edu: "12th (Any)", marks: "Pass", age: "NIL", link: "https://cuet.nta.nic.in" },
        { id: 8, name: "CLAT", cat: "Education", fee: "₹4000", body: "NLU Consortium", edu: "12th (Any)", marks: "45%", age: "NIL", link: "https://consortiumofnlus.ac.in" }
    ];

    let currentList = [];

    // --- 2. NAVIGATION LOGIC ---
    function goTo(toId) {
        // Hide all views
        document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
        // Show target view
        document.getElementById(toId).classList.add('active');
    }

    // Specific handler for Login to Profile
    function handleLogin() {
        console.log("Login clicked");
        goTo('view-profile');
    }

    // --- 3. PROFILE LOGIC ---
    function toggleChip(el, groupId) {
        const group = document.getElementById(groupId);
        Array.from(group.children).forEach(child => child.classList.remove('selected'));
        el.classList.add('selected');
        
        // Update Bar
        const fill = document.getElementById('prog-bar');
        const currentWidth = parseInt(fill.style.width) || 20;
        if(currentWidth < 100) fill.style.width = (currentWidth + 20) + "%";
    }

    function updateCities() {
        const state = document.getElementById('state-select').value;
        const citySelect = document.getElementById('city-select');
        citySelect.innerHTML = "<option>Select City</option>";
        
        let cities = [];
        if(state === "Maharashtra") cities = ["Mumbai", "Pune", "Nagpur"];
        else if(state === "Delhi") cities = ["New Delhi", "North Delhi"];
        else if(state === "Karnataka") cities = ["Bangalore", "Mysore"];
        else if(state === "Tamil Nadu") cities = ["Chennai", "Coimbatore"];
        else if(state === "UP") cities = ["Lucknow", "Kanpur"];
        
        cities.forEach(c => {
            const opt = document.createElement('option');
            opt.innerText = c;
            citySelect.appendChild(opt);
        });
    }

    // --- 4. LIST VIEW LOGIC ---
    function showList(category) {
        goTo('view-list');
        const container = document.getElementById('list-container');
        container.innerHTML = "";
        
        if(category === 'All') {
            currentList = examsData;
            document.getElementById('list-title').innerText = "All Schemes";
        } else if (category === 'Housing') {
            currentList = [];
            document.getElementById('list-title').innerText = "Housing";
            container.innerHTML = "<div style='text-align:center; margin-top:50px; color:#999'>No housing schemes available.</div>";
            return;
        } else {
            currentList = examsData.filter(item => item.cat === category);
            document.getElementById('list-title').innerText = category + " Schemes";
        }

        currentList.forEach(item => {
            const div = document.createElement('div');
            div.className = "scheme-card";
            div.onclick = () => showDetail(item.id);
            div.innerHTML = `
                <div class="scheme-badge">Fee: ${item.fee}</div>
                <div style="font-weight: 700; font-size: 16px; margin-bottom: 5px; padding-right: 50px;">${item.name}</div>
                <div style="color: #666; font-size: 12px;">${item.body}</div>
                <div class="match-tag">Matches 100% of your profile</div>
            `;
            container.appendChild(div);
        });
    }

    function filterList() {
        const term = document.getElementById('searchInput').value.toLowerCase();
        const cards = document.querySelectorAll('.scheme-card');
        cards.forEach(card => {
            if(card.innerText.toLowerCase().includes(term)) card.style.display = "block";
            else card.style.display = "none";
        });
    }

    // --- 5. DETAIL VIEW LOGIC ---
    function showDetail(id) {
        const item = examsData.find(e => e.id === id);
        if(!item) return;

        document.getElementById('d-title').innerText = item.name;
        document.getElementById('d-desc').innerText = `${item.name} is conducted by ${item.body}. Level: ${item.cat}.`;
        document.getElementById('d-fee').innerText = item.fee;
        document.getElementById('d-body').innerText = item.body;
        document.getElementById('d-level').innerText = "National";

        document.getElementById('d-edu').innerText = "Education: " + item.edu;
        document.getElementById('d-marks').innerText = "Min Marks: " + item.marks;
        document.getElementById('d-age').innerText = "Age: " + item.age;

        document.getElementById('btn-apply').onclick = () => window.open(item.link, '_blank');

        goTo('view-detail');
    }

    function openTab(tabId, tabEl) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        tabEl.classList.add('active');
        document.querySelectorAll('.detail-body').forEach(c => c.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
    }
</script>

</body>
</html>